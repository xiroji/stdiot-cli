{"version":3,"sources":["stdiot-plugin.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;IAGqB,aAAa;cAAb,aAAa;;aAAb,aAAa;8BAAb,aAAa;;sEAAb,aAAa;;;iBAAb,aAAa;;sCAEhB;AACV,gBAAI,CAAC,OAAO,8BAHC,aAAa,6CAGO,0BAA0B,EACvD,IAAI,CAAC,UAAU,EAAE,EAAE;AACf,qBAAK,EAAE,oBAAoB;AAC3B,uBAAO,EAAE,EAAE;aACd,CAAC,CAAC;SACV;;;0CAEiB;AACd,gBAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAA,CAAC,EAAI;AACtB,oBAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE;AACvB,wBAAI,MAAM,GAAG,OAAO,CAAC,eAAK,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACxD,qBAAC,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC;AACrC,qBAAC,CAAC,WAAW,GAAG,CAAC,CAAC,OAAO,CAAC,WAAW,IAAI,EAAE,CAAC;AAC5C,qBAAC,CAAC,MAAM,GAAG,UAAC,OAAO,EAAE,IAAI,EAAK;AAC1B,yBAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;qBACnC,CAAA;iBACJ;aACJ,CAAC,CAAC;SACN;;;WArBgB,aAAa;;;kBAAb,aAAa","file":"stdiot-plugin.js","sourcesContent":["import PluginDirectory from \"./plugin\";\nimport path from \"path\";\n\nexport default class StdiotPlugins extends PluginDirectory {\n\n    findPlugins() {\n        this.plugins = super.findPlugins(/^stdiot-cli-plugin-(.*)$/,\n            this.pluginDirs(), {\n                match: /stdiot-cli-plugin-/,\n                replace: \"\"\n            });\n    }\n\n    registerPlugins() {\n        this.plugins.forEach(p => {\n            if (p.props.stat.isFile()) {\n                let module = require(path.join(p.basename, p.filename));\n                p._module = module.default || module;\n                p.description = p._module.description || \"\";\n                p.invoke = (program, done) => {\n                    p._module.invoke(program, done);\n                }\n            }\n        });\n    }\n}\n"],"sourceRoot":"/source/"}